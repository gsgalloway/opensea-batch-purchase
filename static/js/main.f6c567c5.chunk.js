(this["webpackJsonpopensea-batch-purchase-react"]=this["webpackJsonpopensea-batch-purchase-react"]||[]).push([[0],{465:function(e,t){},472:function(e,t){},492:function(e,t){},494:function(e,t){},506:function(e,t){},507:function(e,t){},522:function(e,t){},528:function(e,t){},531:function(e,t){},533:function(e,t){},546:function(e,t){},548:function(e,t){},840:function(e,t){},851:function(e,t,n){"use strict";n.r(t);var a,r,i,s,o,d,p,u,l,c,y,m,b,f=n(0),T=n.n(f),h=n(38),j=n.n(h),x=n(53),O=n(36),g=n(239),v=n.n(g),w=n(139),k=n(60),S=n(406),A=n(407),E=Object(x.createGlobalStyle)(a||(a=Object(k.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: 0px;\n       padding: 0px;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"])),S.a,A.a),M=n(119),C=n(82),_=n(3),P=n.n(_),I=n(96),N=n(411),D=n(112),F=n(132),R=n(18),H=n(15),B=x.default.div(r||(r=Object(k.a)(["\n  padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),K=function(e){var t=e.tokenID,n=e.tokenContractAddress,a=e.onTokenIDChanged,r=e.onTokenContractAddressChanged;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(B,{children:[Object(H.jsxs)(O.Text,{size:"lg",children:["Enter token ID (a number) and the token's contract address ",Object(H.jsx)("br",{}),"Ex: '0x059edd72cd353df5106d2b9cc5ab83a52287ac3a' for Artblocks"]}),Object(H.jsx)("br",{}),Object(H.jsx)(O.TextField,{id:"standard-name",label:"Token Contract Address",value:n,onChange:function(e){return r(e.target.value)},input:{type:"text",pattern:"[A-Za-z]{3}"}}),Object(H.jsx)("br",{}),Object(H.jsx)(O.TextField,{id:"standard-name",label:"Token ID",value:t,onChange:function(e){return a(e.target.value)},input:{type:"number",min:0}})]})})},z=x.default.input(i||(i=Object(k.a)(["\n  border: none;\n  background-color: transparent;\n  box-shadow: none;\n  font-family: ",";\n  width: 250px;\n\n  :focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.fonts.fontFamily})),L=x.default.div(s||(s=Object(k.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid ",";\n  padding: 0 24px;\n"])),(function(e){return e.theme.colors.separator})),G=x.default.div(o||(o=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  height: 52px;\n  border-right: 2px solid ",";\n"])),(function(e){return e.theme.colors.separator})),U=x.default.div(d||(d=Object(k.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 24px;\n  height: 51px;\n  border-bottom: 2px solid ",";\n\n  :last-child {\n    border-bottom: 0px;\n  }\n"])),(function(e){return e.theme.colors.separator})),W=x.default.img(p||(p=Object(k.a)(["\n  width: 26px;\n  height: 26px;\n  object-fit: contain;\n  margin: 0 16px 0 0;\n"]))),Y=x.default.div(u||(u=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]))),Q=x.default.div(l||(l=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  padding: 24px;\n"]))),V=Object(x.default)(O.Text)(c||(c=Object(k.a)(["\n  width: 350px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),q=x.default.button(y||(y=Object(k.a)(["\n  background: none;\n  color: inherit;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  outline-color: ",";\n"])),(function(e){return e.theme.colors.separator})),J=Object(x.default)(O.Divider)(m||(m=Object(k.a)(["\n  height: 30px;\n"]))),Z=function(e){var t=e.title,n=void 0===t?"Manage List":t,a=e.itemList,r=e.showDeleteButton,i=e.defaultIconUrl,s=e.formBody,o=e.addButtonLabel,d=void 0===o?"add":o,p=e.isSubmitFormDisabled,u=void 0!==p&&p,l=e.onSubmitForm,c=e.onItemToggle,y=e.onItemDeleted,m=e.onClose,b=Object(f.useState)(""),T=Object(C.a)(b,2),h=T[0],j=T[1],x=Object(f.useState)(!1),g=Object(C.a)(x,2),v=g[0],w=g[1],k=function(e){e.target.onerror=null,e.target.src=i};return Object(H.jsx)(O.GenericModal,{onClose:m,title:n,body:v?Object(H.jsx)(Q,{children:s}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(L,{children:[Object(H.jsxs)(G,{children:[Object(H.jsx)(O.Icon,{size:"md",type:"search"}),Object(H.jsx)(z,{onChange:function(e){return j(e.target.value)},placeholder:"Search",value:h})]}),Object(H.jsx)(O.Button,{size:"md",color:"primary",variant:"contained",onClick:function(){return w(!v)},children:Object(H.jsxs)(O.Text,{size:"lg",color:"white",children:["+ ",d]})})]}),Object(H.jsx)("div",{children:(h&&h.length?a.filter((function(e){var t;return e.name.toLowerCase().includes(h.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))})):a).map((function(e){return Object(H.jsxs)(U,{children:[Object(H.jsxs)(Y,{children:[Object(H.jsx)(W,{alt:e.name,onError:k,src:e.iconUrl}),Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{children:Object(H.jsx)(O.Text,{size:"lg",strong:!0,children:e.name})}),Object(H.jsx)("div",{children:Object(H.jsx)(V,{size:"md",children:e.description&&e.description})})]})]}),Object(H.jsx)(O.Switch,{checked:e.checked,onChange:function(t){return c(e.id,t)}}),r&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(J,{orientation:"vertical"}),Object(H.jsx)(q,{onClick:function(){return null===y||void 0===y?void 0:y(e.id)},disabled:!e.isDeletable,children:Object(H.jsx)(O.Icon,{size:"md",color:e.isDeletable?"error":"icon",type:"delete"})})]})]},e.id)}))})]}),footer:v?Object(H.jsx)(O.ModalFooterConfirmation,{okText:"Save",okDisabled:u,handleCancel:function(){return w(!1)},handleOk:function(){w(!1),l()}}):null,withoutBodyPadding:!0})},X=n(193),$=n(85),ee=n(217),te=n(44),ne=n.n(te),ae=function(){var e=Object(I.a)(P.a.mark((function e(t,n,a){var r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new X.OpenSeaPort(new ee.a,{networkName:n,apiKey:a}),e.next=3,Promise.all(t.map((function(e){return r.api.getAsset({tokenAddress:e.contractAddress,tokenId:e.id.toString()})})));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),re=function(e){var t=e.tokens,n=e.network,a=e.apiKey,r=Object(w.useQuery)(["loadTokenAssets",t],(function(){return ae(t,n,a)})),i=r.isLoading,s=r.data,o=r.error;if(i)return Object(H.jsx)(O.Loader,{size:"lg"});if(o)return alert(o),Object(H.jsx)(H.Fragment,{});if(void 0===s)throw new Error("data is undefined");var d=function(e){var t,n=ne.a.minBy(e.sellOrders,(function(e){return e.basePrice.toNumber()}));return[{content:Object(H.jsx)(O.Text,{size:"lg",children:e.name})},{content:Object(H.jsxs)(O.Text,{size:"lg",children:["Price: \u039e",Object($.b)(null!==(t=null===n||void 0===n?void 0:n.basePrice.toString())&&void 0!==t?t:"-1").toString()]})},{content:Object(H.jsx)("img",{src:e.imageUrl,alt:e.imageUrl})}]};return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(O.Table,{rows:s.map((function(e){var t;return{id:null!==(t=e.tokenId)&&void 0!==t?t:"",cells:d(e)}}))})})},ie=n(192),se=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],oe=n(409),de=n.n(oe),pe=n(285),ue=n.n(pe),le=n(410),ce=x.default.div(b||(b=Object(k.a)(["\n  padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),ye=function(){var e=Object(I.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNetwork();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=new D.providers.Web3Provider(window.ethereum);if(!e)throw new Error("no ethereum provider registered");return e},be=function(e){var t,n,a=e.name;if("mainnet"===a||"homestead"===a)t="6c2cf7754b5e4819be2c0e3827382766";else{if(!Object({NODE_ENV:"production",PUBLIC_URL:"/opensea-batch-purchase-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSEA_API_KEY:"6c2cf7754b5e4819be2c0e3827382766"}).REACT_APP_RINKEBY_OPENSEA_API_KEY)throw new Error("must define REACT_APP_RINKEBY_OPENSEA_API_KEY");t=Object({NODE_ENV:"production",PUBLIC_URL:"/opensea-batch-purchase-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSEA_API_KEY:"6c2cf7754b5e4819be2c0e3827382766"}).REACT_APP_RINKEBY_OPENSEA_API_KEY}switch(a){case"mainnet":case"homestead":n=X.Network.Main;break;case"rinkeby":n=X.Network.Rinkeby;break;default:throw new Error("network ".concat(a," is not supported by opensea-js"))}return{openseaApiKey:t,openseaNetworkName:n}},fe=function(){var e=Object(g.useSafeAppsSDK)().safe,t=Object(f.useState)(!1),n=Object(C.a)(t,2),a=n[0],r=n[1],i=Object(f.useState)([]),s=Object(C.a)(i,2),o=s[0],d=s[1],p=Object(f.useState)(""),u=Object(C.a)(p,2),l=u[0],c=u[1],y=Object(f.useState)(""),m=Object(C.a)(y,2),b=m[0],T=m[1],h=Object(f.useState)(!1),j=Object(C.a)(h,2),x=j[0],v=j[1],k=Object(f.useCallback)(Object(I.a)(P.a.mark((function t(){var n,a,r,i,s,d,p,u,l,c,y,m,b,f,T;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),n=me(),t.next=5,n.getNetwork();case 5:return a=t.sent,r=n.getSigner(),i=be(a),s=i.openseaApiKey,d=i.openseaNetworkName,p=new N.a(n,{openseaApiKey:s,network:d}),t.next=11,Promise.all(o.map((function(t){return p.createSingleTokenPurchase(t.id,t.contractAddress,e.safeAddress)})));case 11:return u=t.sent,t.next=14,p.createBatchTransactionFromPurchases(u,e.safeAddress);case 14:return l=t.sent,c=new F.b(e.safeAddress,se,n),y=Object(ie.calculateSafeTransactionHash)(c,l,a.chainId),t.next=19,Object(ie.signHash)(r,y);case 19:return m=t.sent,b="https://safe-transaction.gnosis.io","rinkeby"===a.name&&(b="https://safe-transaction.rinkeby.gnosis.io"),f=new de.a(b),(T=new ue.a({baseGas:R.a.from(l.baseGas).toNumber(),data:l.data,gasPrice:R.a.from(l.gasPrice).toNumber(),gasToken:l.gasToken,nonce:R.a.from(l.nonce).toNumber(),operation:l.operation,refundReceiver:l.refundReceiver,safeTxGas:R.a.from(l.safeTxGas).toNumber(),to:l.to,value:R.a.from(l.value).toString()})).addSignature(new le.EthSignSignature(m.signer,m.data)),t.t0=f,t.t1=e.safeAddress,t.t2=T,t.next=30,r.getAddress();case 30:return t.t3=t.sent,t.t4=y,t.t5={safeAddress:t.t1,safeTransaction:t.t2,senderAddress:t.t3,safeTxHash:t.t4},t.next=35,t.t0.proposeTransaction.call(t.t0,t.t5);case 35:alert("Transaction proposed! Please review and execute on the Transactions tab in the Gnosis UI."),t.next=42;break;case 38:t.prev=38,t.t6=t.catch(0),console.error(t.t6),alert(t.t6);case 42:return t.prev=42,v(!1),t.finish(42);case 45:case"end":return t.stop()}}),t,null,[[0,38,42,45]])}))),[o,e]),S=me(),A=Object(w.useQuery)(["loadNetwork"],(function(){return ye(S)})),E=A.isLoading,_=A.data,D=A.error;if(E)return Object(H.jsx)(O.Loader,{size:"lg"});if(D)return alert(D),Object(H.jsx)(H.Fragment,{});if(void 0===_)throw new Error("network is undefined");var B=be(_),z=B.openseaApiKey,L=B.openseaNetworkName;return Object(H.jsxs)(ce,{children:[x&&Object(H.jsx)(O.Loader,{size:"lg"}),Object(H.jsx)(O.Title,{size:"md",children:"New Batch OpenSea Purchase"}),o.length>0&&Object(H.jsx)(O.Card,{children:Object(H.jsx)(re,{tokens:o,network:L,apiKey:z})}),Object(H.jsx)("br",{}),Object(H.jsx)(O.Button,{size:"lg",color:"primary",onClick:function(){return r(!a)},children:"1. Select NFTs"}),a&&Object(H.jsx)(Z,{title:"Add Token",defaultIconUrl:"https://opensea.io/static/images/logos/opensea.svg",itemList:Array.from(o.entries()).map((function(e){var t=Object(C.a)(e,2),n=t[0],a=t[1];return{id:n,iconUrl:"someUrl",name:"".concat(a.id),description:"Token at ".concat(a.contractAddress),checked:!0,isDeletable:!0}})),showDeleteButton:!0,addButtonLabel:"Add token to batch",formBody:Object(H.jsx)(K,{tokenID:l,tokenContractAddress:b,onTokenIDChanged:c,onTokenContractAddressChanged:T}),onSubmitForm:function(){d([].concat(Object(M.a)(o),[{id:R.a.from(l),contractAddress:b}]))},onClose:function(){return r(!1)},onItemToggle:function(){},onItemDeleted:function(e){if("string"===typeof e)throw new Error("itemID ".concat(e," should be number"));var t=Object(M.a)(o);t.splice(e,1),d(t)}}),Object(H.jsx)(O.Divider,{}),Object(H.jsx)(O.Button,{size:"lg",color:"primary",onClick:k,children:"2. Construct Batch Transaction"})]})},Te=new w.QueryClient;j.a.render(Object(H.jsx)(T.a.StrictMode,{children:Object(H.jsxs)(x.ThemeProvider,{theme:O.theme,children:[Object(H.jsx)(E,{}),Object(H.jsx)(v.a,{loader:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(O.Title,{size:"md",children:"Waiting for Safe..."}),Object(H.jsx)(O.Loader,{size:"md"})]}),children:Object(H.jsx)(w.QueryClientProvider,{client:Te,children:Object(H.jsx)(fe,{})})})]})}),document.getElementById("root"))}},[[851,1,2]]]);
//# sourceMappingURL=main.f6c567c5.chunk.js.map